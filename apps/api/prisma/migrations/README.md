# Prisma è¿ç§»è¯´æ˜

## å¿«é€Ÿå¼€å§‹

### 1. åˆ›å»ºæ–°è¿ç§»

```bash
# å¼€å‘ç¯å¢ƒï¼šè‡ªåŠ¨åº”ç”¨è¿ç§»
npx prisma migrate dev --name describe_your_change

# ç”Ÿäº§ç¯å¢ƒï¼šä»…åˆ›å»ºè¿ç§»æ–‡ä»¶
npx prisma migrate dev --create-only --name describe_your_change
```

### 2. åº”ç”¨è¿ç§»

```bash
# åº”ç”¨æ‰€æœ‰å¾…æ‰§è¡Œçš„è¿ç§»
npx prisma migrate deploy

# æŸ¥çœ‹è¿ç§»çŠ¶æ€
npx prisma migrate status
```

### 3. é‡ç½®æ•°æ®åº“ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰

```bash
# è­¦å‘Šï¼šè¿™ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®
npx prisma migrate reset
```

---

## é‡è¦è¿ç§»è®°å½•

### ğŸ“Œ add_book_copy_tableï¼ˆå¾…æ‰§è¡Œï¼‰

**æ—¥æœŸ**: 2025-11-02
**ç±»å‹**: ç ´åæ€§å˜æ›´
**è¯´æ˜**: å°†ç”µå­å›¾ä¹¦å’Œçº¸è´¨å›¾ä¹¦åˆ†ç¦»ï¼Œå¼•å…¥ BookCopy è½½ä½“æ¦‚å¿µ

**æ‰§è¡Œå‰å‡†å¤‡**:
1. é˜…è¯» `MIGRATION-GUIDE.md` å®Œæ•´è¯´æ˜
2. å¤‡ä»½æ•°æ®åº“
3. åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯

**æ‰§è¡Œå‘½ä»¤**:
```bash
# æ­¥éª¤1: åˆ›å»ºè¿ç§»ï¼ˆå¦‚æœè¿˜æ²¡åˆ›å»ºï¼‰
npx prisma migrate dev --name add_book_copy_table --create-only

# æ­¥éª¤2: æ‰‹åŠ¨ç¼–è¾‘è¿ç§»æ–‡ä»¶ï¼Œå¤åˆ¶ MIGRATION-GUIDE.md ä¸­çš„ SQL

# æ­¥éª¤3: åº”ç”¨è¿ç§»
npx prisma migrate deploy

# æ­¥éª¤4: é‡æ–°ç”Ÿæˆ Prisma Client
npx prisma generate
```

---

## è¿ç§»æœ€ä½³å®è·µ

1. **å§‹ç»ˆå¤‡ä»½ç”Ÿäº§æ•°æ®åº“**
2. **å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯**
3. **ä½¿ç”¨ --create-only å®¡æŸ¥ SQL åå†æ‰§è¡Œ**
4. **ç¼–å†™å›æ»šè„šæœ¬**
5. **è®°å½•è¿ç§»å½±å“èŒƒå›´**
